<?xml version="1.0" encoding="iso-8859-1"?>
<root version="2.0">
	<windowclass name="charsheet_textlistitem">
		<sizelimits>
			<minimum>
				<height>10</height>
			</minimum>
		</sizelimits>
		<sheetdata>
			<textlistitemvalue name="value">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>2</offset>
					</left>
					<right>
						<anchor>right</anchor>
						<offset>-2</offset>
					</right>
					<top>
						<anchor>top</anchor>
					</top>
				</anchored>
			</textlistitemvalue>
		</sheetdata>
	</windowclass>

	<windowclass name="charsheet_specialabilityitem">
		<sizelimits>
			<minimum>
				<height>10</height>
			</minimum>
		</sizelimits>
		<sheetdata>
			<specialabilitynumber name="number">
				<anchored>
					<right>
						<anchor>right</anchor>
					</right>
					<top>
						<anchor>top</anchor>
					</top>
					<size>
						<width>30</width>
						<height>16</height>
					</size>
				</anchored>
				<font>sheetnumbersmall</font>
				<frame>
					<name>modifier</name>
					<offset>4,4,4,4</offset>
				</frame>
			</specialabilitynumber>

			<specialabilitydice name="dice">
				<anchored>
					<right>
						<parent>number</parent>
						<anchor>left</anchor>
					</right>
					<top>
						<anchor>top</anchor>
					</top>
					<size>
						<width>35</width>
						<height>15</height>
					</size>
				</anchored>
				<frame>
					<name>modifier</name>
					<offset>4,4,4,5</offset>
				</frame>
			</specialabilitydice>

			<textlistitemvalue name="value">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>2</offset>
					</left>
					<right>
						<parent>dice</parent>
						<anchor>left</anchor>
						<offset>-2</offset>
					</right>
					<top>
						<anchor>top</anchor>
					</top>
				</anchored>
				<script>
					function onDrop(x, y, draginfo)
						if draginfo.isType("number") then
							window.number.enable(true);
							window.number.setSourceValue(draginfo.getNumberData());
							return true;
						end

						if draginfo.isType("dice") then
							window.dice.enable(true);
							window.dice.setSourceValue(draginfo.getDieList());
							return true;
						end
					end
				</script>
			</textlistitemvalue>
		</sheetdata>
	</windowclass>

	<windowclass name="charsheet_abilities">
		<placement>
			<size>
				<width>252</width>
				<height>611</height>
			</size>
		</placement>
		<nodelete />
		<sheetdata>
			<!-- Feats -->
			<genericcontrol name="featframe">
				<bounds>15,20,240,570</bounds>
				<frame>
					<name>sheetgroup</name>
				</frame>
			</genericcontrol>
			
			<stringcontrol>
				<anchored>
					<to>featframe</to>
					<position>insidetop</position>
					<offset>0,11</offset>
				</anchored>
				<center />
				<font>sheetlabel</font>
				<static>Feats</static>
			</stringcontrol>
			
			<windowlist name="featlist">
				<anchored>
					<to>featframe</to>
					<position>over</position>
					<offset>-12,-9</offset>
					<top>
						<parent>featframe</parent>
						<offset>30</offset>
					</top>
				</anchored>
				<datasource>.featlist</datasource>
				<class>charsheet_textlistitem</class>
				<allowcreate />
				<script>
					function onSortCompare(w1, w2)
						if w1.value.getValue() == "" then
							return true;
						elseif w2.value.getValue() == "" then
							return false;
						end
					
						return w1.value.getValue() &gt; w2.value.getValue();
					end
					
					function onClickDown(button, x, y)
						if not getNextWindow(nil) then
							createWindow().value.setFocus();
							return true;
						end
					end
				</script>
			</windowlist>

			<!-- Other -->
			<genericcontrol name="specialabilityframe">
				<bounds>255,20,240,570</bounds>
				<frame>
					<name>sheetgroup</name>
				</frame>
			</genericcontrol>

			<stringcontrol>
				<anchored>
					<to>specialabilityframe</to>
					<position>insidetop</position>
					<offset>0,11</offset>
				</anchored>
				<font>sheetlabel</font>
				<center />
				<static>Special Abilities</static>
			</stringcontrol>
¨
			<windowreferencecontrol>
				<anchored>
					<to>specialabilityframe</to>
					<position>insidetopright</position>
					<offset>13,10</offset>
					<size>
						<width>40</width>
						<height>15</height>
					</size>
				</anchored>
				<icon>
					<normal>button_minisheet</normal>
					<pressed>button_minisheet_down</pressed>
				</icon>
				<class>charsheetmini_specialabilities</class>
				<tooltip>
					<text>Minisheet</text>
				</tooltip>
				<nodrag />
				<closetoggle />
			</windowreferencecontrol>

			<windowlist name="specialabilitylist">
				<anchored>
					<to>specialabilityframe</to>
					<position>over</position>
					<offset>-12,-9</offset>
					<top>
						<parent>specialabilityframe</parent>
						<offset>30</offset>
					</top>
				</anchored>
				<datasource>.specialabilitylist</datasource>
				<class>charsheet_specialabilityitem</class>
				<allowcreate />
				<script>
					function onSortCompare(w1, w2)
						if w1.value.getValue() == "" then
							return true;
						elseif w2.value.getValue() == "" then
							return false;
						end
					
						return w1.value.getValue() &gt; w2.value.getValue();
					end
					
					function onClickDown(button, x, y)
						if not getNextWindow(nil) then
							createWindow().value.setFocus();
							return true;
						end
					end
				</script>
			</windowlist>
		</sheetdata>
	</windowclass>
</root>
